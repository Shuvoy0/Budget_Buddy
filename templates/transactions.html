{% extends 'base.html' %}
{% block content %}
<h2>Transactions</h2>
<form method="POST">
    <input type="text" name="title" placeholder="Title" required>
    <input type="number" name="amount" placeholder="Amount" step="0.01" required>
    <input type="date" name="date" required>
    <select name="category_id" required>
        {% for cat in categories %}
        <option value="{{ cat.id }}">{{ cat.name }}</option>
        {% endfor %}
    </select>
    <button type="submit">Add Transaction</button>
</form>

<table>
    <tr>
        <th>Title</th>
        <th>Amount</th>
        <th>Date</th>
        <th>Category</th>
    </tr>
    {% for t in transactions %}
    <tr>
        <td>{{ t.title }}</td>
        <td>{{ t.amount }}</td>
        <td>{{ t.date }}</td>
        <td>{{ t.category.name if t.category else 'Unknown' }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
